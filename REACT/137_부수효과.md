---
layout: post
title: 리액트와 부수효과
author: haeran
date: 2025-06-05 21:07:00 +0900 
categories: [REACT]
banner:
  image:
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: [Side_Effect]
---

사이드 이펙트! 부수 효과! 스터디 초반 이후로 오랜만이네요!

## 🔥 리액트에서 부수 효과로 인해 생길 수 있는 문제점

### 1. **예측 불가능한 상태 변화**

리액트는 UI를 **상태(state)** 에 따라 결정되도록 설계되었습니다. 그런데, 부수 효과가 있는 함수는 상태 외의 외부 값을 변경하거나 참조할 수 있어서 **컴포넌트의 상태 흐름을 예측하기 어렵게 만듭니다.**

예시:

```js
let counter = 0;

function increase() {
  counter++; // 외부 상태를 변경 → 부수 효과 발생
}
```

이러한 코드가 컴포넌트 안에 있다면, 리렌더링에 따라 `counter` 값이 예측 불가능하게 바뀔 수 있습니다.

### 2. **렌더링 중 외부 자원 접근 문제**

렌더링 과정에서 **네트워크 요청**, **localStorage 접근**, **DOM 조작** 같은 작업이 일어나면 앱의 성능이 저하되거나 렌더 순서에 따라 에러가 발생할 수 있습니다.

리액트는 렌더링을 **순수하게**, 부수 효과는 `useEffect` 같은 훅에서 처리하기를 권장합니다.

### 3. **리렌더링 루프 및 무한 반복**

불순 함수가 상태를 계속 바꿔버리면, 상태 → 렌더 → 상태 변경 → 렌더... 식으로 **무한 루프**가 발생할 수 있어요.

```js
useEffect(() => {
  setState(Math.random());  // 매 렌더마다 값이 바뀜 → 무한 루프 가능
});
```

## ✅ 순수 함수 vs 불순 함수

| 구분    | 순수 함수 (Pure Function) | 불순 함수 (Impure Function)            |
| ----- | --------------------- | ---------------------------------- |
| 특징    | 동일 입력 → 동일 출력         | 동일 입력 → 다른 출력 가능                   |
| 외부 영향 | 없음 (부수 효과 없음)         | 외부 상태 변경 가능                        |
| 예시    | `x => x * 2`          | `x => console.log(x)` 또는 `state++` |
| 테스트   | 매우 쉬움                 | 어렵거나 불가능할 수 있음                     |

리액트 컴포넌트는 가능하면 **순수 함수처럼 동작하도록** 작성해야 합니다.
즉, **입력(props)**에 따라 동일한 **출력(JSX)**을 내도록 해야 합니다.

## ✍️ 마무리 요약

* 리액트는 **순수 함수 기반 UI**를 지향함
* 부수 효과는 `useEffect`, `useLayoutEffect` 등으로 분리
* 부수 효과는 렌더링 흐름에 영향을 주지 않도록 관리되어야 함

---

## 📌 함께 생각해볼 질문들

### 1. 왜 `useEffect`가 필요한 걸까?

→ 렌더링과 무관한 작업(데이터 가져오기, 이벤트 구독 등)을 **명확하게 분리**해서 관리할 수 있게 해줍니다.

### 2. 불순 함수가 꼭 나쁜 걸까?

→ 아닙니다. **필요한 부수 효과**는 잘 관리해서 사용해야 합니다. 문제는 **렌더링 중에 실행될 때** 발생하는 것이죠.

### 3. 순수 함수의 이점은 뭘까?

→ **테스트가 쉽고, 디버깅이 간단하며, 예측 가능한 코드를 만들 수 있습니다.**
리액트뿐만 아니라 함수형 프로그래밍에서 아주 중요한 개념입니다.
