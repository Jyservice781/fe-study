### FCP (First Contentful Paint)란 무엇인가요?

**FCP (First Contentful Paint)**는 사용자가 페이지에 접속한 후, 브라우저가 화면에 **의미 있는 첫 번째 콘텐츠를 렌더링(표시)하는 데 걸리는 시간**을 측정하는 성능 지표입니다.

여기서 핵심은 '의미 있는 콘텐츠(Contentful)'라는 단어입니다. 이는 단순히 배경색이 바뀌는 것과 같은 변화가 아니라, 사용자가 '내용'으로 인식할 수 있는 요소가 처음 나타나는 시점을 의미합니다.

- **FCP에 포함되는 요소:**
    - 텍스트 (글자)
    - 이미지 (`<img>` 태그)
    - 비디오의 포스터 이미지
    - SVG (벡터 그래픽)
    - 캔버스 (`<canvas>`) 요소

- **FCP에 포함되지 않는 요소:**
    - 배경색, 빈 박스 등 의미 없는 시각적 변화

쉽게 비유하자면, 식당에 가서 주문한 후 마냥 기다리는 것이 아니라 **식전 빵이나 물이 가장 먼저 나오는 순간**이 바로 FCP라고 할 수 있습니다. 메인 요리(LCP)는 아니지만, "아, 이제 서비스가 시작되었구나"라고 느끼게 해주는 첫 신호인 셈이죠.

**결론적으로 FCP는 사용자가 '빈 화면'에서 벗어나 페이지가 로딩되고 있다는 것을 인지하는 첫 시점을 측정합니다.**

### LCP와의 차이점

FCP와 LCP는 종종 혼동되지만 명확한 차이가 있습니다.
- **FCP (First Contentful Paint):** **"페이지 로딩이 시작되고 있구나!"** 라고 느끼는 시점. 화면에 나타나는 **최초의** 콘텐츠를 측정합니다.
- **LCP (Largest Contentful Paint):** **"아, 페이지의 주요 내용이 이거구나!"** 라고 느끼는 시점. 화면에서 **가장 큰** 콘텐츠가 렌더링되는 시간을 측정합니다.

**예시:** 뉴스 기사 페이지
1. 사이트 로고(작은 이미지)가 먼저 화면 상단에 표시됩니다. → **이 시점이 FCP 입니다.**
2. 이후 기사의 제목(텍스트)이 표시됩니다.
3. 마지막으로 기사 본문의 큰 메인 이미지(가장 큰 요소)가 로딩됩니다. → **이 시점이 LCP 입니다.**

---
### 웹 성능 최적화와 FCP의 연관성
FCP는 웹 성능 최적화에서 매우 중요한 역할을 합니다. FCP가 느리다는 것은 사용자가 상당 시간 동안 아무것도 없는 흰 화면만 쳐다보고 있어야 한다는 의미이기 때문입니다.

- **사용자 이탈률 감소:** FCP가 빠를수록 사용자는 웹사이트가 정상적으로 작동하고 있다고 인식하게 되어 기다릴 확률이 높아집니다. 반면, FCP가 느리면 사용자는 사이트가 멈췄다고 생각하고 뒤로 가기 버튼을 누를 가능성이 큽니다.
- **체감 성능 향상:** 비록 전체 페이지 로딩이 완료되지 않았더라도, 무언가 빨리 보이기 시작하면 사용자는 사이트가 '빠르다'고 느끼게 됩니다. 이는 전반적인 사용자 경험(UX)에 긍정적인 영향을 미칩니다.

#### FCP를 개선하기 위한 최적화 기법
FCP가 느려지는 주요 원인은 **초기 렌더링을 방해하는 요소들** 때문입니다. 따라서 FCP 최적화는 이러한 방해 요소를 제거하는 데 초점을 맞춥니다.

1. **서버 응답 시간 단축 (TTFB 최적화):**
    - 서버가 브라우저의 요청에 응답하는 시간(Time To First Byte, TTFB)이 느리면 모든 과정이 지연됩니다. 효율적인 백엔드 로직, 데이터베이스 쿼리 최적화, CDN 사용 등을 통해 서버 응답 시간을 줄이는 것이 FCP 개선의 첫걸음입니다.

2. **렌더링 차단 리소스(Render-Blocking Resources) 제거 및 최적화:**
    - 브라우저는 HTML을 파싱하다가 CSS나 JavaScript 파일을 만나면, 해당 파일의 다운로드와 실행이 끝날 때까지 페이지 렌더링을 멈춥니다. 이것이 FCP를 지연시키는 가장 큰 원인 중 하나입니다.
    - **해결책:**
        - **중요하지 않은 JavaScript 지연 로딩:** `<script>` 태그에 `defer`나 `async` 속성을 사용하여 렌더링을 막지 않도록 합니다.
        - **필수 CSS 분리 (Critical CSS):** 화면 상단에 보이는 데 필수적인 최소한의 CSS만 HTML의 `<style>` 태그 안에 직접 넣고(인라이닝), 나머지 CSS는 비동기적으로 로드합니다.
        - **CSS 파일 크기 축소:** 사용하지 않는 CSS 코드를 제거하고 파일을 압축합니다.

3. **글꼴(Font) 로딩 최적화:**
    - 웹 폰트를 다운로드하는 동안 텍스트가 보이지 않는 현상(FOIT)이 발생할 수 있습니다. 이는 FCP에 직접적인 영향을 줍니다.
    - **해결책:** CSS의 `font-display: swap;` 속성을 사용하면, 웹 폰트가 로드되기 전까지는 우선 시스템 기본 폰트로 텍스트를 보여주어 FCP를 빠르게 확보할 수 있습니다.

4. **불필요한 리소스 제거 및 압축:**
    - HTML 파일 자체의 크기가 크거나 불필요한 리다이렉션이 많으면 첫 콘텐츠를 표시하는 시간이 길어집니다. HTML, CSS, JS 파일을 압축(Minification)하고, Gzip/Brotli 같은 서버 압축을 사용하여 전송 데이터 크기를 줄여야 합니다.

> **FCP 최적화는 '사용자가 빈 화면을 보는 시간을 최소화'하는 것을 목표로 하며, 이는 초기 렌더링을 방해하는 모든 병목 현상을 해결하는 과정과 직결됩니다.** 빠른 FCP는 사용자에게 긍정적인 첫인상을 심어주고 웹사이트에 머무르게 하는 중요한 열쇠입니다.