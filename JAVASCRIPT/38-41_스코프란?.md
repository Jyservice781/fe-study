# 스코프란? 
scope 는 한국어로 범위를 의미함.
**변수나 함수가 “어디에서 접근 가능한지를 결정하는 범위”** 를 말한다. 즉, **변수에 접근할 수 있는 유효한 영역**이다.

## 스코프는 크게 2가지 종류로 볼 수 있음
전역스코프와 지역스코프 크게 2가지로 볼 수 있음
- **전역 스코프 (Global Scope)**
    - 코드 어디서나 접근 가능한 변수입니다.
    - 예: 함수 밖에서 선언된 변수.
- **함수 스코프 (Function Scope)**
    - 함수 내부에서 선언된 변수는 그 함수 안에서만 접근할 수 있습니다.
    - 예: var, let, const로 함수 안에서 선언한 변수.
- **블록 스코프 (Block Scope)**
    - {} 중괄호로 감싼 블록 안에서만 접근 가능한 변수입니다.
    - let과 const는 블록 스코프를 따릅니다. (var는 블록 스코프를 따르지 않고 함수 스코프를 가집니다.)

*모든 변수는 스코프를 가진다. 변수의 관점에서 스코프를 나누면 전역변수, 지역변수로 나눌 수 있음.*

**변수는 선언 위치(전역 또는 지역)에 의해 스코프를 가지게 된다. 즉, 전역에서 선언된 변수는 전역 스코프를 갖는 전역 변수이고, 지역(자바스크립트의 경우 함수 내부)에서 선언된 변수는 지역 스코프를 갖는 지역 변수가 된다.**

**전역 스코프를 갖는 전역 변수는 전역(코드 어디서든지)에서 참조할 수 있다. 지역(함수 내부)에서 선언된 지역 변수는 그 지역과 그 지역의 하위 지역에서만 참조할 수 있다.**


## 렉시컬 스코프란? 
**렉시컬 스코프**는 함수를 어디에 **선언**하였는지에 따라 상위 스코프가 결정되는 것을 말한다.
정적 스코프(Static Scope)라고도 한다. 

```javascript
var x = 1;

function foo() {
	var x = 10;
	bar();
}

function bar() {
	console.log(x);
}

foo(); // 1
bar(); // 1
```


> 동적 스코프 <br>
렉시컬 스코프(static scope)와 다르게 함수를 어디서 **호출** 하였는지에 따라 상위 스코프가 결정되는 것을 **동적 스코프**라고 한다.  
Bash Scripting, Common Lisp 등 일부 언어에서 동적 스코프를 따른다.


## 전역변수 사용시 문제점
전역 변수(Global Variable)를 사용하는 것은 편리해 보일 수 있지만, 다음과 같은 여러 가지 문제점이 발생할 수 있습니다.

###  1. 이름 충돌 (Name Collision)
전역 변수는 모든 스크립트가 접근 가능하기 때문에,  
같은 이름의 변수가 중복되면 기존 변수 값이 덮어써질 위험이 있다.

```javascript
var count = 1; // 내가 선언한 전역 변수

// 다른 코드나 라이브러리에서도 같은 이름 사용
var count = 999; // 기존 값이 덮어써짐
```


에러 코드 예시
```javascript
// 전역 변수 선언
var userName = "철수";

function greet() {
  console.log("안녕하세요, " + userName + "님!");
}

// 다른 함수에서 실수로 전역 변수 변경
function changeUser() {
  userName = "영희"; // 실수로 값 변경
}

greet();        // 안녕하세요, 철수님!
changeUser();   // 값이 바뀜
greet();        // 안녕하세요, 영희님! (원치 않은 결과)
```

### **2. 의도치 않은 값 변경 (Accidental Modification)**
전역 변수는 어디서든 접근 가능하므로,
의도치 않게 값이 변경되어 예기치 못한 버그가 발생할 수 있다.

### **3. 디버깅과 유지보수 어려움 (Difficult to Maintain)**
전역 변수는 누가, 어디서, 언제 바꿨는지 추적하기 어렵기 때문에
코드의 흐름을 파악하거나 디버깅하기 어려워진다.

### **4. 메모리 낭비 (Memory Leak)**
전역 변수는 애플리케이션이 종료될 때까지 계속 메모리에 남아 있기 때문에,
불필요한 리소스를 차지할 수 있다.

### **5. 모듈화 방해 및 테스트 어려움**
전역 변수에 의존하는 코드는 독립적 테스트나 재사용이 어렵고,
코드를 모듈 단위로 나누는 데에도 방해가 된다

| **문제점**  | **설명**                    |
| -------- | ------------------------- |
| 이름 충돌    | 같은 변수명이 여러 곳에서 사용되어 충돌 가능 |
| 값 변경 위험  | 의도하지 않은 위치에서 값이 변경될 수 있음  |
| 유지보수 어려움 | 코드 흐름 추적이 복잡해짐            |
| 메모리 낭비   | 전역은 앱 종료 전까지 메모리에 상주      |
| 모듈화 방해   | 재사용성과 테스트가 떨어짐            |
